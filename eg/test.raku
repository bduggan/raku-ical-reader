#!/usr/bin/env raku

use ICal::Grammar;

my $test = q:to/END/;
BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//hacksw/handcal//NONSGML v1.0//EN
CALSCALE:GREGORIAN
X-WR-CALNAME:something here
BEGIN:VEVENT
UID:
DTSTAMP:19970714T170000Z
ORGANIZER;CN=John Doe:MAILTO:
ATTENDEE;RSVP=TRUE;ROLE=REQ-PARTICIPANT;PARTSTAT=NEEDS-ACTION;CN=Jane Doe:MAILTO:
DTSTART:19970714T170000Z
DTEND:19970715T035959Z
SUMMARY:Bastille Day Party
END:VEVENT
BEGIN:VEVENT
UID:
DTSTAMP:19970714T170000Z
ORGANIZER;CN=John Doe:MAILTO:
ATTENDEE;RSVP=TRUE;ROLE=REQ-PARTICIPANT;PARTSTAT=NEEDS-ACTION;CN=Jane Doe:MAILTO:
DTSTART:19970714T170000Z
DTEND:19970715T035959Z
SUMMARY:Bastille Day Party
END:VEVENT
END:VCALENDAR
END

my $g = ICal::Grammar.new;

my $tree = $g.parse($test);
say $tree<ical><vcalendar><vevent>[0];
